"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.StateManager = void 0;

const vutils_1 = require("@visactor/vutils"), compilable_base_1 = require("./compilable-base");

class StateManager extends compilable_base_1.CompilableBase {
    compile() {}
    getStateMap() {
        return this._stateMap;
    }
    _getDefaultStateMap() {
        return {};
    }
    constructor(options) {
        super(options), this.initStateMap();
    }
    initStateMap(state) {
        this._stateMap = null != state ? state : this._getDefaultStateMap();
    }
    updateState(newState, noRender) {
        if (newState && ((0, vutils_1.merge)(this._stateMap, newState), !noRender)) return this.getCompiler().renderNextTick();
    }
}

exports.StateManager = StateManager;
//# sourceMappingURL=state-manager.js.map