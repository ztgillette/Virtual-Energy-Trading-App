{"version":3,"sources":["../src/series/sankey/animation.ts"],"names":[],"mappings":"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","file":"animation.js","sourcesContent":["// eslint-disable-next-line no-duplicate-imports\nimport { Direction } from '../../typings/space';\nimport { Factory } from '../../core/factory';\nimport { FadeInOutAnimation } from '../../animation/config';\nimport type { ISankeyAnimationParams, SankeyAppearPreset } from './interface';\nimport type { IAnimationTypeConfig, IAnimationParameters } from '../../animation/interface';\nimport { ACustomAnimate, AnimateExecutor } from '@visactor/vrender-animate';\nimport type { IGraphic } from '@visactor/vrender-core';\nimport type { ILinkPathMarkSpec } from '../../typings';\n\nexport const sankeyGrowIn = (params: ISankeyAnimationParams, isOverall: boolean = true): IAnimationTypeConfig => {\n  return {\n    type: params.direction === Direction.horizontal ? 'growWidthIn' : 'growHeightIn',\n    options: {\n      overall: isOverall ? params.growFrom() : isOverall,\n      orient: Direction.horizontal ? 'positive' : 'negative'\n    }\n  };\n};\n\nexport const sankeyGrowOut = (params: ISankeyAnimationParams, isOverall: boolean = true): IAnimationTypeConfig => {\n  return {\n    type: params.direction === Direction.horizontal ? 'growWidthOut' : 'growHeightOut',\n    options: {\n      overall: isOverall ? params.growFrom() : isOverall,\n      orient: Direction.horizontal ? 'positive' : 'negative'\n    }\n  };\n};\n\nexport const sankeyNodePresetAnimation = (\n  params: ISankeyAnimationParams,\n  preset: SankeyAppearPreset\n): IAnimationTypeConfig => {\n  switch (preset) {\n    case 'fadeIn': {\n      return {\n        type: 'fadeIn'\n      };\n    }\n    case 'growIn': {\n      return sankeyGrowIn(params);\n    }\n    default: {\n      return sankeyGrowIn(params);\n    }\n  }\n};\n\nexport const sankeyLinkPresetAnimation = (preset: SankeyAppearPreset): IAnimationTypeConfig => {\n  switch (preset) {\n    case 'fadeIn': {\n      return {\n        type: 'fadeIn'\n      };\n    }\n    case 'growIn': {\n      return { type: 'linkPathGrowIn' };\n    }\n    default: {\n      return { type: 'linkPathGrowIn' };\n    }\n  }\n};\n\ntype TypeAnimation<T extends IGraphic> = (\n  graphic: T,\n  options: any,\n  animationParameters: IAnimationParameters\n) => { from?: { [channel: string]: any }; to?: { [channel: string]: any } };\n\nconst linkPathGrowIn: TypeAnimation<IGraphic> = (\n  graphic: IGraphic,\n  options: any,\n  animationParameters: IAnimationParameters\n) => {\n  const linkValues: ILinkPathMarkSpec = {\n    x0: graphic.getFinalAttribute().x0,\n    x1: graphic.getFinalAttribute().x1,\n    y0: graphic.getFinalAttribute().y0,\n    y1: graphic.getFinalAttribute().y1,\n    thickness: graphic.getFinalAttribute().thickness\n  };\n  // // FIXME: undefined channel animation will cause vRender warning\n  // Object.keys(linkValues).forEach(key => {\n  //   if (isNil(linkValues[key])) {\n  //     delete linkValues[key];\n  //   }\n  // });\n  return {\n    from: Object.assign({}, linkValues, { x1: linkValues.x0, y1: linkValues.y0 }),\n    to: linkValues\n  };\n};\n\nconst linkPathGrowOut: TypeAnimation<IGraphic> = (\n  element: IGraphic,\n  options: any,\n  animationParameters: IAnimationParameters\n) => {\n  const linkValues: ILinkPathMarkSpec = {\n    x0: element.getFinalAttribute().x0,\n    x1: element.getFinalAttribute().x1,\n    y0: element.getFinalAttribute().y0,\n    y1: element.getFinalAttribute().y1,\n    thickness: element.getFinalAttribute().thickness\n  };\n  // // FIXME: undefined channel animation will cause vRender warning\n  // Object.keys(linkValues).forEach(key => {\n  //   if (isNil(linkValues[key])) {\n  //     delete linkValues[key];\n  //   }\n  // });\n  return {\n    from: linkValues,\n    to: Object.assign({}, linkValues, { x1: linkValues.x0, y1: linkValues.y0 })\n  };\n};\n\nconst linkPathUpdate: TypeAnimation<IGraphic> = (\n  graphic: IGraphic,\n  options: any,\n  animationParameters: IAnimationParameters\n) => {\n  let from;\n  let to;\n  {\n    const { x0, x1, y0, y1 } = graphic.getFinalAttribute();\n    from = { x0, x1, y0, y1 };\n  }\n  {\n    const { x0, x1, y0, y1 } = graphic.attribute as any;\n    to = { x0, x1, y0, y1 };\n  }\n\n  return {\n    from,\n    to\n  };\n};\n\nexport class LinkPathGrowIn extends ACustomAnimate<Record<string, number>> {\n  onBind(): void {\n    super.onBind();\n    if (this.params?.diffAttrs) {\n      this.target.setAttributes(this.params.diffAttrs);\n    }\n    const { from, to } = linkPathGrowIn(this.target, this.params.options, this.params);\n    const fromAttrs = this.target.context?.lastAttrs ?? from;\n    const finalAttribute = this.target.getFinalAttribute();\n    if (finalAttribute) {\n      Object.assign(this.target.attribute, finalAttribute);\n    }\n    this.props = to;\n    this.propKeys = Object.keys(to).filter(key => to[key] != null);\n    this.animate.reSyncProps();\n    this.from = fromAttrs;\n    this.to = to;\n    this.target.setAttributes(fromAttrs);\n  }\n\n  onUpdate(end: boolean, ratio: number, out: Record<string, any>): void {\n    const attribute: Record<string, any> = this.target.attribute;\n    this.propKeys.forEach(key => {\n      attribute[key] = this.from[key] + (this.to[key] - this.from[key]) * ratio;\n    });\n    this.target.setAttributes(attribute);\n  }\n}\n\nexport class LinkPathGrowOut extends ACustomAnimate<Record<string, number>> {\n  onBind(): void {\n    super.onBind();\n    if (this.params?.diffAttrs) {\n      this.target.setAttributes(this.params.diffAttrs);\n    }\n    const { from, to } = linkPathGrowOut(this.target, this.params.options, this.params);\n    const fromAttrs = this.target.context?.lastAttrs ?? from;\n    this.props = to;\n    this.propKeys = Object.keys(to).filter(key => to[key] != null);\n    this.animate.reSyncProps();\n    this.from = fromAttrs;\n    this.to = to;\n    this.target.setAttributes(fromAttrs);\n  }\n\n  onUpdate(end: boolean, ratio: number, out: Record<string, any>): void {\n    const attribute: Record<string, any> = this.target.attribute;\n    this.propKeys.forEach(key => {\n      attribute[key] = this.from[key] + (this.to[key] - this.from[key]) * ratio;\n    });\n    this.target.setAttributes(attribute);\n  }\n}\n\nexport class LinkPathUpdate extends ACustomAnimate<Record<string, number>> {\n  onBind(): void {\n    if (this.params?.diffAttrs) {\n      this.target.setAttributes(this.params.diffAttrs);\n    }\n    const { from, to } = linkPathUpdate(this.target, this.params.options, this.params);\n    const fromAttrs = this.target.context?.lastAttrs ?? from;\n    this.props = to;\n    this.propKeys = Object.keys(to).filter(key => to[key] != null);\n    this.animate.reSyncProps();\n    this.from = fromAttrs;\n    this.to = to;\n    this.target.setAttributes(fromAttrs);\n  }\n\n  onUpdate(end: boolean, ratio: number, out: Record<string, any>): void {\n    const attribute: Record<string, any> = this.target.attribute;\n    this.propKeys.forEach(key => {\n      attribute[key] = this.from[key] + (this.to[key] - this.from[key]) * ratio;\n    });\n    this.target.setAttributes(attribute);\n  }\n}\n\nexport const registerSankeyAnimation = () => {\n  Factory.registerAnimation('sankeyNode', (params: ISankeyAnimationParams, preset: SankeyAppearPreset) => ({\n    appear: sankeyNodePresetAnimation(params, preset),\n    ...FadeInOutAnimation\n  }));\n  Factory.registerAnimation('sankeyLinkPath', (params: unknown, preset: SankeyAppearPreset) => ({\n    appear: sankeyLinkPresetAnimation(preset),\n    enter: { type: 'linkPathGrowIn' },\n    exit: { type: 'linkPathGrowOut' },\n    disappear: { type: 'linkPathGrowOut' }\n  }));\n  AnimateExecutor.registerBuiltInAnimate('linkPathGrowOut', LinkPathGrowOut);\n  AnimateExecutor.registerBuiltInAnimate('linkPathGrowIn', LinkPathGrowIn);\n};\n"]}