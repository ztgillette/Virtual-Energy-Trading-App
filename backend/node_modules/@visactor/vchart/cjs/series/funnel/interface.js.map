{"version":3,"sources":["../src/series/funnel/interface.ts"],"names":[],"mappings":"","file":"interface.js","sourcesContent":["import type {\n  Datum,\n  IMarkSpec,\n  IMarkTheme,\n  ISeriesSpec,\n  IOrientType,\n  IPathMarkSpec,\n  IPolygonMarkSpec,\n  IRuleMarkSpec,\n  ITextMarkSpec,\n  IPercent,\n  IComposedTextMarkSpec,\n  IFormatMethod\n} from '../../typings';\nimport type { IAnimationSpec } from '../../animation/spec';\nimport type { SeriesMarkNameEnum } from '../interface/type';\nimport type { ILabelSpec } from '../../component/label/interface';\n\ntype FunnelMarks = 'funnel';\n\nexport type FunnelAppearPreset = 'clipIn' | 'fadeIn';\nexport interface IFunnelSeriesSpec extends ISeriesSpec, IAnimationSpec<FunnelMarks, FunnelAppearPreset> {\n  type: 'funnel';\n  /**\n   * 分类字段\n   */\n  categoryField: string;\n  /**\n   * 数值字段\n   */\n  valueField: string;\n  /**\n   * 漏斗图朝向。\n   * @default 'top'\n   */\n  funnelOrient?: IOrientType;\n  /**\n   * 图元形状。转化漏斗图仅支持 'rect'\n   * @default 'trapezoid'\n   */\n  shape?: 'rect' | 'trapezoid';\n  /**\n   * 是否是转化漏斗图\n   * @default false\n   */\n  isTransform?: boolean;\n  /**\n   * 漏斗图最下层是否尖角。shape为`rect`时不生效\n   * @default true\n   */\n  isCone?: boolean;\n  /**\n   * 漏斗图对齐方式。转化漏斗图仅支持'center'\n   * @default 'center'\n   */\n  funnelAlign?: 'left' | 'center' | 'right';\n  /**\n   * 漏斗层之间的像素间隔。转化漏斗图不支持gap配置。\n   * @default 0\n   */\n  gap?: number;\n  /**\n   * 指定数据项的最大值和最小值\n   */\n  range?: {\n    min?: number;\n    max?: number;\n  };\n  /**\n   * 漏斗图最大宽度，支持配置像素值和百分比字符串。\n   * @default '80%'\n   */\n  maxSize?: number | IPercent;\n  /**\n   * 漏斗图最小宽度，支持配置像素值和百分比字符串。\n   * @default 0\n   */\n  minSize?: number | IPercent;\n  /**\n   * 漏斗层与转化层的图形高度比例\n   * The height ratio between the funnel graphic and the transform graphic\n   * @default 0.5\n   * @since 1.10.1\n   */\n  heightRatio?: number;\n  /**\n   * 漏斗图转化率文案，用于转化层 tooltip key 的显示内容\n   *  @since 1.13.6\n   * @default '转化率'\n   * */\n  transformRatioText?: string;\n  /**\n   * 漏斗层样式\n   */\n  [SeriesMarkNameEnum.funnel]?: IMarkSpec<IPathMarkSpec>;\n  /**\n   * 转化层样式\n   */\n  [SeriesMarkNameEnum.transform]?: IMarkSpec<IPathMarkSpec>;\n  /**\n   * 漏斗层标签配置\n   */\n  [SeriesMarkNameEnum.label]?: IFunnelLabelSpec;\n  /**\n   * 漏斗层外部标签配置\n   */\n  [SeriesMarkNameEnum.outerLabel]?: IFunnelOuterLabelSpec;\n  /**\n   * 转化层标签配置\n   */\n  [SeriesMarkNameEnum.transformLabel]?: IFunnelLabelSpec;\n}\n\ninterface IFunnelLabelSpec extends Omit<ILabelSpec, 'position' | 'offset'> {\n  /**\n   * 标签文字样式\n   */\n  limit?: 'shapeSize' | number;\n}\n\nexport interface IFunnelOuterLabelSpec extends IMarkSpec<IComposedTextMarkSpec> {\n  formatMethod?: IFormatMethod<[text: string | string[], datum?: Datum]>;\n  /**\n   * 标签布局方式\n   * @default 'left' | 'bottom'\n   */\n  position?: 'left' | 'right' | 'top' | 'bottom';\n  /**\n   * 文字与引导线间隔宽度\n   * @default 5\n   */\n  spaceWidth?: number;\n  /**\n   * 文字是否对齐\n   * @default true\n   */\n  alignLabel?: boolean;\n  /**\n   * 文字样式\n   */\n  style?: ITextMarkSpec;\n  /**\n   *  标签引导线样式\n   */\n  line?: {\n    /**\n     * 标签引导线最小长度\n     * @default 20\n     * @since 1.12.7\n     */\n    minLength?: number;\n  } & IMarkSpec<IRuleMarkSpec>;\n}\n\nexport interface IFunnelSeriesTheme {\n  [SeriesMarkNameEnum.funnel]?: Partial<IMarkTheme<IPolygonMarkSpec>>;\n  [SeriesMarkNameEnum.transform]?: Partial<IMarkTheme<IPolygonMarkSpec>>;\n  [SeriesMarkNameEnum.label]?: Partial<IMarkTheme<ITextMarkSpec>>;\n  [SeriesMarkNameEnum.outerLabel]?: Partial<IMarkTheme<ITextMarkSpec>> & {\n    line?: Partial<IMarkTheme<IRuleMarkSpec>>;\n  };\n  [SeriesMarkNameEnum.transformLabel]?: Partial<IMarkTheme<ITextMarkSpec>>;\n}\n"]}