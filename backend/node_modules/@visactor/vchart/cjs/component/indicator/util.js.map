{"version":3,"sources":["../src/component/indicator/util.ts"],"names":[],"mappings":";;;AAAA,6CAAyC;AAgBlC,MAAM,eAAe,GAAG,CAAC,IAAgB,EAAE,EAAoB,EAAE,EAAE;IACxE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IACrC,MAAM,UAAU,GAAe,EAAE,CAAC;IAClC,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrC,IAAI,KAAK,CAAC,OAAO,EAAE;QACjB,UAAU,CAAC,IAAI,CAAC;YACd,IAAI,EAAE,OAAO;YACb,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,WAAW;YAClB,IAAI,EAAE,KAAK;SACO,CAAC,CAAC;KACvB;IACD,IAAA,cAAK,EAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC9B,IAAI,CAAC,CAAC,OAAO,EAAE;YACb,UAAU,CAAC,IAAI,CAAC;gBACd,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,CAAC;gBACR,KAAK,EAAE,WAAW;gBAClB,IAAI,EAAE,CAAC;aACW,CAAC,CAAC;SACvB;IACH,CAAC,CAAC,CAAC;IACH,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAvBW,QAAA,eAAe,mBAuB1B","file":"util.js","sourcesContent":["import { array } from '@visactor/vutils';\nimport type { IIndicatorItemSpec } from './interface';\n\nexport interface IIndicatorDatum {\n  type: 'title' | 'content';\n  index: number;\n  datum: any;\n  spec: IIndicatorItemSpec;\n}\n\nexport interface IIndicatorMapper {\n  title: IIndicatorItemSpec;\n  content: IIndicatorItemSpec[];\n  datum: () => any;\n}\n\nexport const indicatorMapper = (data: Array<any>, op: IIndicatorMapper) => {\n  const { datum, title, content } = op;\n  const mappedData: Array<any> = [];\n  const datumResult = datum.call(null);\n  if (title.visible) {\n    mappedData.push({\n      type: 'title',\n      index: 0,\n      datum: datumResult,\n      spec: title\n    } as IIndicatorDatum);\n  }\n  array(content).forEach((c, i) => {\n    if (c.visible) {\n      mappedData.push({\n        type: 'content',\n        index: i,\n        datum: datumResult,\n        spec: c\n      } as IIndicatorDatum);\n    }\n  });\n  return mappedData;\n};\n"]}