{"version":3,"sources":["../src/scale/color-ordinal-scale.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAEhD,OAAO,EAAE,uBAAuB,EAAE,4BAA4B,EAAE,MAAM,4BAA4B,CAAC;AAGnG,MAAM,OAAO,iBAAkB,SAAQ,YAAY;IAIjD,KAAK,CAAC,KAAuE;QAC3E,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC;SACtB;QACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAGD,MAAM,CAAC,KAAa;QAClB,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAGS,WAAW;QACnB,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC9C,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzB,OAAO;SACR;QACD,MAAM,KAAK,GAAG,uBAAuB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACjE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;CACF","file":"color-ordinal-scale.js","sourcesContent":["import { OrdinalScale } from '@visactor/vscale';\nimport type { ColorSchemeItem, ProgressiveDataScheme } from '../theme/color-scheme/interface';\nimport { computeActualDataScheme, isProgressiveDataColorScheme } from '../theme/color-scheme/util';\n\n/** vchart 色板 ordinal scale 类型 */\nexport class ColorOrdinalScale extends OrdinalScale {\n  /** range（可能为渐进式色板） */\n  protected _range: Array<ColorSchemeItem> | ProgressiveDataScheme<ColorSchemeItem>;\n\n  range(value?: Array<ColorSchemeItem> | ProgressiveDataScheme<ColorSchemeItem>): this | any {\n    if (!value) {\n      return super.range();\n    }\n    this._range = value;\n    this._resetRange();\n    return this;\n  }\n\n  /** domain */\n  domain(value?: any[]): this | any {\n    if (!value) {\n      return super.domain();\n    }\n    super.domain(value);\n    this._resetRange();\n    return this;\n  }\n\n  /** 重新计算色板 */\n  protected _resetRange() {\n    if (!isProgressiveDataColorScheme(this._range)) {\n      super.range(this._range);\n      return;\n    }\n    const range = computeActualDataScheme(this._range, this._domain);\n    super.range(range);\n  }\n}\n"]}