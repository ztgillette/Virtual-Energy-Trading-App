{"version":3,"sources":["../src/data/transforms/map.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,qBAAqB,CAAC;AACzD,OAAO,EAAE,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAQ7C,MAAM,CAAC,MAAM,uBAAuB,GAAG,GAAG,MAAM,kBAAkB,CAAC;AAEnE,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,IAAmB,EAAE,GAAY,EAAE,EAAE;IACvD,IAAI,IAAI,CAAC,QAAQ,EAAE;QACjB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAM,EAAE,KAAa,EAAE,EAAE;;YAC9C,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;YAC9B,MAAM,IAAI,GAAG,MAAA,CAAC,CAAC,UAAU,0CAAG,GAAG,CAAC,YAAY,CAAC,CAAC;YAC9C,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACpC,CAAC,CAAC,uBAAuB,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAChD;iBAAM;gBACL,CAAC,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC;aACnC;QACH,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,IAAI,CAAC,QAAQ,CAAC;AACvB,CAAC,CAAC","file":"map.js","sourcesContent":["import { DEFAULT_DATA_INDEX } from '../../constant/data';\nimport { PREFIX } from '../../constant/base';\nimport type { GeoSourceType } from '../../typings/geo';\n\nexport interface IMapOpt {\n  nameMap: Record<string, string>;\n  nameProperty: string;\n}\n\nexport const DEFAULT_MAP_LOOK_UP_KEY = `${PREFIX}_MAP_LOOK_UP_KEY`;\n\nexport const map = (data: GeoSourceType, opt: IMapOpt) => {\n  if (data.features) {\n    data.features.forEach((f: any, index: number) => {\n      f[DEFAULT_DATA_INDEX] = index;\n      const name = f.properties?.[opt.nameProperty];\n      if (opt.nameMap && opt.nameMap[name]) {\n        f[DEFAULT_MAP_LOOK_UP_KEY] = opt.nameMap[name];\n      } else {\n        f[DEFAULT_MAP_LOOK_UP_KEY] = name;\n      }\n    });\n  }\n  return data.features;\n};\n"]}