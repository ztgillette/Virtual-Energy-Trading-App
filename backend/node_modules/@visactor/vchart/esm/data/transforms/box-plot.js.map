{"version":3,"sources":["../src/data/transforms/box-plot.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC3C,OAAO,EAAE,4BAA4B,EAAE,MAAM,yBAAyB,CAAC;AAavE,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,IAAqB,EAAE,EAAsB,EAAE,EAAE;IAC/E,MAAM,MAAM,GAAQ,EAAE,CAAC;IACvB,MAAM,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,EAAE,CAAC;IAC7C,MAAM,UAAU,GAAI,IAAI,CAAC,CAAC,CAAS,CAAC,UAAU,IAAI,EAAE,CAAC;IACrD,UAAU,CAAC,OAAO,CAAC,CAAC,CAAQ,EAAE,EAAE;QAC9B,IAAI,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;YAC3B,aAAa,GAAG,CAAC,aAAa,CAAC,CAAC;SACjC;QACD,MAAM,CAAC,IAAI,CACT,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE;YAC9B,MAAM,OAAO,GAAG;gBACd,CAAC,4BAA4B,CAAC,EAAE,CAAC;aAClC,CAAC;YACF,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBAC7B,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;YACH,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC,CACH,CAAC;IACJ,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC","file":"box-plot.js","sourcesContent":["import { isArray } from '@visactor/vutils';\nimport { BOX_PLOT_OUTLIER_VALUE_FIELD } from '../../constant/box-plot';\nimport type { Datum } from '../../typings';\n\nexport interface IBoxPlotOutlierOpt {\n  dimensionField: string[];\n  outliersField: string;\n}\n/**\n * 将箱型图outlier数组展平\n * @param data\n * @param options\n * @returns\n */\nexport const foldOutlierData = (data: Array<DataView>, op: IBoxPlotOutlierOpt) => {\n  const result: any = [];\n  const { outliersField, dimensionField } = op;\n  const latestData = (data[0] as any).latestData || [];\n  latestData.forEach((d: Datum) => {\n    let outlierValues = d[outliersField];\n    if (!isArray(outlierValues)) {\n      outlierValues = [outlierValues];\n    }\n    result.push(\n      ...outlierValues.map((v: any) => {\n        const resData = {\n          [BOX_PLOT_OUTLIER_VALUE_FIELD]: v\n        };\n        dimensionField.forEach(field => {\n          resData[field] = d[field];\n        });\n        return resData;\n      })\n    );\n  });\n  return result;\n};\n"]}