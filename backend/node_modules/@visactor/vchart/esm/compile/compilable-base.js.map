{"version":3,"sources":["../src/compile/compilable-base.ts"],"names":[],"mappings":"AAGA,MAAM,OAAgB,cAAc;IAElC,SAAS;QACP,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAID,YAAY,MAA6B;QACvC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;IAC9C,CAAC;IAID,QAAQ;;QACN,OAAO,MAAA,IAAI,CAAC,WAAW,EAAE,0CAAE,QAAQ,EAAE,CAAC;IACxC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;CACF","file":"compilable-base.js","sourcesContent":["import type { ICompilableInitOption, ICompilable, ICompiler } from './interface';\n\n/** 可以编译的类的统一基类 */\nexport abstract class CompilableBase implements ICompilable {\n  protected _option: ICompilableInitOption;\n  getOption() {\n    return this._option;\n  }\n\n  getCompiler: () => ICompiler;\n\n  constructor(option: ICompilableInitOption) {\n    this._option = option;\n    this.getCompiler = this._option.getCompiler;\n  }\n\n  abstract compile(): void;\n\n  getStage() {\n    return this.getCompiler()?.getStage();\n  }\n\n  release() {\n    this._option = null;\n    this.getCompiler = null;\n  }\n}\n"]}