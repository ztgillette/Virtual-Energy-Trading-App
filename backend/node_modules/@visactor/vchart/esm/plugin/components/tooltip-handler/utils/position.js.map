{"version":3,"sources":["../src/plugin/components/tooltip-handler/utils/position.ts"],"names":[],"mappings":"AAKA,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAE3E,MAAM,CAAC,MAAM,6BAA6B,GAAG,CAC3C,QAAqE,EACrE,KAAiB,EACT,EAAE;IACV,IAAI,MAAc,CAAC;IACnB,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE;QACrB,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACtB,MAAM,GAAG,QAAkB,CAAC;SAC7B;aAAM,IAAI,UAAU,CAAC,QAAQ,CAAC,EAAE;YAE/B,MAAM,eAAe,GAAI,QAA0C,CAAC,KAAK,CAAC,CAAC;YAE3E,IAAI,QAAQ,CAAC,eAAe,CAAC,EAAE;gBAC7B,MAAM,GAAG,eAAe,CAAC;aAC1B;SACF;KACF;IACD,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAOF,MAAM,CAAC,MAAM,YAAY,GAA6E;IACpG,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACb,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACb,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAEd,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC;IACpB,YAAY,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;IACtB,UAAU,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IACrB,WAAW,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;IAErB,aAAa,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC;IAC3B,cAAc,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC;IAC3B,gBAAgB,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC;IAC7B,iBAAiB,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;IAE7B,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACX,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACX,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACX,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACX,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACV,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACpB,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACnB,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;CACpB,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAG,CAC7B,QAA8B,EAC9B,GAAc,EACd,cAAmC,CAAC,EACf,EAAE,eAAC,OAAA,MAAA,MAAA,YAAY,CAAC,QAAQ,CAAC,0CAAG,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,mCAAI,WAAW,CAAA,EAAA,CAAC;AAEvF,MAAM,CAAC,MAAM,8BAA8B,GAAG,CAAC,GAAQ,EAAwC,EAAE;IAC/F,OAAO,CACL,QAAQ,CAAC,GAAG,CAAC;QACb,CAAC,OAAO,CAAE,GAAqC,CAAC,IAAI,CAAC;YACnD,OAAO,CAAE,GAAqC,CAAC,KAAK,CAAC;YACrD,OAAO,CAAE,GAAqC,CAAC,GAAG,CAAC;YACnD,OAAO,CAAE,GAAqC,CAAC,MAAM,CAAC,CAAC,CAC1D,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,6BAA6B,GAAG,CAAC,GAAQ,EAAuC,EAAE;IAC7F,OAAO,CACL,QAAQ,CAAC,GAAG,CAAC;QACb,CAAC,OAAO,CAAE,GAAoC,CAAC,CAAC,CAAC,IAAI,OAAO,CAAE,GAAoC,CAAC,CAAC,CAAC,CAAC,CACvG,CAAC;AACJ,CAAC,CAAC","file":"position.js","sourcesContent":["import type {\n  IFixedTooltipPositionPattern,\n  IGlobalTooltipPositionPattern,\n  TooltipFixedPosition\n} from '../../../../typings/tooltip/position';\nimport { isFunction, isNumber, isObject, isValid } from '@visactor/vutils';\n\nexport const getActualTooltipPositionValue = (\n  position: number | ((event: MouseEvent) => number) | null | undefined,\n  event: MouseEvent\n): number => {\n  let result: number;\n  if (isValid(position)) {\n    if (isNumber(position)) {\n      result = position as number;\n    } else if (isFunction(position)) {\n      //  这里额外判断下是否合法\n      const tooltipPosition = (position as (event: MouseEvent) => number)(event);\n\n      if (isNumber(tooltipPosition)) {\n        result = tooltipPosition;\n      }\n    }\n  }\n  return result;\n};\n\n// 'left' | 'innerLeft' |  'centerLeft' | 'center'  | 'centerRight' | 'innerRight'  |  'right'\n// 'top' | 'innerTop' | 'centerTop' | 'center' | 'centerBottom' | 'innerBottom' | 'bottom'\nexport type TooltipPositionType = -2 | -1.5 | -1 | 0 | 1 | 1.5 | 2;\n\n/** position 对齐方式在 x、y 分量下的分解 */\nexport const positionType: Record<TooltipFixedPosition, [TooltipPositionType, TooltipPositionType]> = {\n  left: [-2, 0],\n  right: [2, 0],\n  top: [0, -2],\n  bottom: [0, 2],\n\n  insideTop: [0, -1.5],\n  insideBottom: [0, 1.5],\n  insideLeft: [-1.5, 0],\n  insideRight: [1.5, 0],\n\n  insideTopLeft: [-1.5, -1.5],\n  insideTopRight: [1.5, -1.5],\n  insideBottomLeft: [-1.5, 1.5],\n  insideBottomRight: [1.5, 1.5],\n\n  lt: [-2, -2],\n  tl: [-2, -2],\n  rt: [2, -2],\n  tr: [2, -2],\n  bl: [-2, 2],\n  lb: [-2, 2],\n  br: [2, 2],\n  rb: [2, 2],\n  inside: [0, 0], // 旧版兼容\n  center: [0, 0],\n  centerBottom: [0, 1],\n  centerTop: [0, -1],\n  centerLeft: [-1, 0],\n  centerRight: [1, 0]\n};\n\nexport const getPositionType = (\n  position: TooltipFixedPosition,\n  dim: 'x' | 'y',\n  defaultCase: TooltipPositionType = 2\n): TooltipPositionType => positionType[position]?.[dim === 'x' ? 0 : 1] ?? defaultCase;\n\nexport const isGlobalTooltipPositionPattern = (obj: any): obj is IGlobalTooltipPositionPattern => {\n  return (\n    isObject(obj) &&\n    (isValid((obj as IGlobalTooltipPositionPattern).left) ||\n      isValid((obj as IGlobalTooltipPositionPattern).right) ||\n      isValid((obj as IGlobalTooltipPositionPattern).top) ||\n      isValid((obj as IGlobalTooltipPositionPattern).bottom))\n  );\n};\n\nexport const isFixedTooltipPositionPattern = (obj: any): obj is IFixedTooltipPositionPattern => {\n  return (\n    isObject(obj) &&\n    (isValid((obj as IFixedTooltipPositionPattern).x) || isValid((obj as IFixedTooltipPositionPattern).y))\n  );\n};\n"]}