{"version":3,"sources":["../src/series/range-column/range-column.ts"],"names":[],"mappings":"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","file":"range-column.js","sourcesContent":["import { BarSeries } from '../bar/bar';\nimport { MarkTypeEnum } from '../../mark/interface/type';\nimport type { SeriesMarkMap } from '../interface';\n// eslint-disable-next-line no-duplicate-imports\nimport { SeriesMarkNameEnum, SeriesTypeEnum } from '../interface/type';\nimport { Direction } from '../../typings/space';\n// eslint-disable-next-line no-duplicate-imports\nimport { registerRectMark } from '../../mark/rect';\n// eslint-disable-next-line no-duplicate-imports\nimport { registerTextMark } from '../../mark/text';\nimport { setRectLabelPos } from '../util/label-mark';\nimport { animationConfig, shouldMarkDoMorph, userAnimationConfig } from '../../animation/utils';\nimport { RangeColumnSeriesTooltipHelper } from './tooltip-helper';\nimport { registerFadeInOutAnimation } from '../../animation/config';\nimport type { Datum } from '../../typings';\nimport type { IRangeColumnSeriesSpec } from './interface';\n// eslint-disable-next-line no-duplicate-imports\nimport { PositionEnum } from './interface';\nimport type { IStateAnimateSpec } from '../../animation/spec';\nimport type { RangeColumnAppearPreset } from './interface';\n// eslint-disable-next-line no-duplicate-imports\nimport { registerRangeColumnAnimation } from './animation';\nimport { rangeColumnSeriesMark } from './constant';\nimport { Factory } from '../../core/factory';\nimport { getGroupAnimationParams } from '../util/utils';\nimport { RangeColumnSeriesSpecTransformer } from './range-column-transformer';\nimport { registerCartesianLinearAxis, registerCartesianBandAxis } from '../../component/axis/cartesian';\nimport type { IRectMark, ITextMark } from '../../mark/interface';\nimport { rangeColumn } from '../../theme/builtin/common/series/rangeColumn';\n\nexport const DefaultBandWidth = 6; // 默认的bandWidth，避免连续轴没有bandWidth\n\nexport class RangeColumnSeries<T extends IRangeColumnSeriesSpec = IRangeColumnSeriesSpec> extends BarSeries<any> {\n  static readonly type: string = SeriesTypeEnum.rangeColumn;\n  type: string = SeriesTypeEnum.rangeColumn;\n  protected _barMarkType: string = MarkTypeEnum.rect;\n  protected _barName: string = SeriesTypeEnum.bar;\n\n  protected declare _spec: T;\n\n  static readonly mark: SeriesMarkMap = rangeColumnSeriesMark;\n  static readonly builtInTheme = { rangeColumn };\n  static readonly transformerConstructor = RangeColumnSeriesSpecTransformer as any;\n  readonly transformerConstructor = RangeColumnSeriesSpecTransformer as any;\n\n  private _minLabelMark?: ITextMark;\n  private _maxLabelMark?: ITextMark;\n  private _labelMark?: ITextMark;\n\n  initMark(): void {\n    this._initBarBackgroundMark();\n\n    const labelPosition = this._spec.label?.position;\n    this._barMark = this._createMark(\n      RangeColumnSeries.mark.bar,\n      {\n        groupKey: this._seriesField,\n        isSeriesMark: true\n      },\n      {\n        morph: shouldMarkDoMorph(this._spec, RangeColumnSeries.mark.bar.name),\n        morphElementKey: this.getDimensionField()[0]\n      }\n    ) as IRectMark;\n\n    if (this._spec.label?.visible !== false && labelPosition === PositionEnum.bothEnd) {\n      if (this._spec.label?.minLabel?.visible !== false) {\n        this._minLabelMark = this._createMark(RangeColumnSeries.mark.minLabel, {\n          markSpec: this._spec.label?.minLabel\n        }) as ITextMark;\n      }\n      if (this._spec.label?.maxLabel?.visible !== false) {\n        this._maxLabelMark = this._createMark(RangeColumnSeries.mark.maxLabel, {\n          markSpec: this._spec.label?.maxLabel\n        }) as ITextMark;\n      }\n    }\n  }\n\n  initMarkStyle(): void {\n    super.initMarkStyle();\n    this._initLabelMarkPos(this._minLabelMark, this._spec.label?.minLabel, 0, 'end');\n    this._initLabelMarkPos(this._maxLabelMark, this._spec.label?.maxLabel, 1, 'start');\n  }\n\n  _initLabelMarkPos(\n    labelMark: ITextMark,\n    labelSpec: IRangeColumnSeriesSpec['label']['minLabel'],\n    fieldIndex: number,\n    defaultPosition: string\n  ): void {\n    if (labelMark) {\n      this.setMarkStyle(labelMark, {\n        fill: labelSpec?.style?.fill ?? this.getColorAttribute(),\n        text: (datum: Datum) => {\n          const val =\n            this._spec.direction === Direction.horizontal\n              ? datum[this._spec.xField[fieldIndex]]\n              : datum[this._spec.yField[fieldIndex]];\n          if (labelSpec?.formatMethod) {\n            return labelSpec.formatMethod(val, datum);\n          }\n          return val;\n        }\n      });\n      const position = labelSpec?.position ?? defaultPosition;\n      const offset = labelSpec?.offset ?? (this._direction === 'vertical' ? -20 : -25);\n      setRectLabelPos(\n        this,\n        labelMark,\n        position,\n        offset,\n        (datum: Datum) => this._barMark.getAttribute('x', datum) as number,\n        (datum: Datum) => {\n          return this._direction === 'vertical'\n            ? (this._barMark.getAttribute('x', datum) as number) +\n                (this._barMark.getAttribute('width', datum) as number)\n            : (this._barMark.getAttribute('x1', datum) as number);\n        },\n        (datum: Datum) => this._barMark.getAttribute('y', datum) as number,\n        (datum: Datum) => {\n          return this._direction === 'vertical'\n            ? (this._barMark.getAttribute('y1', datum) as number)\n            : (this._barMark.getAttribute('y', datum) as number) +\n                (this._barMark.getAttribute('height', datum) as number);\n        },\n        () => this._direction\n      );\n    }\n  }\n\n  initLabelMarkStyle(labelMark: ITextMark): void {\n    if (!labelMark) {\n      return;\n    }\n    this.setMarkStyle(labelMark, {\n      text: (datum: Datum) => {\n        let min;\n        let max;\n        if (this._spec.direction === Direction.horizontal) {\n          min = datum[this._spec.xField[0]];\n          max = datum[this._spec.xField[1]];\n        } else {\n          min = datum[this._spec.yField[0]];\n          max = datum[this._spec.yField[1]];\n        }\n        return min + '-' + max;\n      },\n      z: this._fieldZ ? this.dataToPositionZ.bind(this) : null\n    });\n    this._labelMark = labelMark;\n  }\n\n  protected _dataToPosX(datum: Datum) {\n    return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(datum, this._spec.xField[0]), {\n      bandPosition: this._bandPosition\n    });\n  }\n\n  protected _dataToPosX1(datum: Datum) {\n    return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(datum, this._spec.xField[1]), {\n      bandPosition: this._bandPosition\n    });\n  }\n\n  protected _dataToPosY(datum: Datum) {\n    return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(datum, this._spec.yField[0]), {\n      bandPosition: this._bandPosition\n    });\n  }\n\n  protected _dataToPosY1(datum: Datum) {\n    return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(datum, this._spec.yField[1]), {\n      bandPosition: this._bandPosition\n    });\n  }\n\n  initAnimation() {\n    const animationParams = getGroupAnimationParams(this);\n\n    const appearPreset = (this._spec?.animationAppear as IStateAnimateSpec<RangeColumnAppearPreset>)?.preset;\n    this._barMark.setAnimationConfig(\n      animationConfig(\n        Factory.getAnimationInKey('rangeColumn')?.({ direction: this.direction }, appearPreset),\n        userAnimationConfig(SeriesMarkNameEnum.bar, this._spec, this._markAttributeContext),\n        animationParams\n      )\n    );\n\n    if (this._minLabelMark) {\n      this._minLabelMark.setAnimationConfig(\n        animationConfig(\n          Factory.getAnimationInKey('fadeInOut')?.(),\n          userAnimationConfig(SeriesMarkNameEnum.label, this._spec, this._markAttributeContext),\n          animationParams\n        )\n      );\n    }\n\n    if (this._maxLabelMark) {\n      this._maxLabelMark.setAnimationConfig(\n        animationConfig(\n          Factory.getAnimationInKey('fadeInOut')?.(),\n          userAnimationConfig(SeriesMarkNameEnum.label, this._spec, this._markAttributeContext),\n          animationParams\n        )\n      );\n    }\n  }\n\n  protected initTooltip() {\n    this._tooltipHelper = new RangeColumnSeriesTooltipHelper(this);\n    this._barMark && this._tooltipHelper.activeTriggerSet.mark.add(this._barMark);\n\n    this._minLabelMark && this._tooltipHelper.ignoreTriggerSet.mark.add(this._minLabelMark);\n    this._maxLabelMark && this._tooltipHelper.ignoreTriggerSet.mark.add(this._maxLabelMark);\n    this._labelMark && this._tooltipHelper.ignoreTriggerSet.mark.add(this._labelMark);\n  }\n}\n\nexport const registerRangeColumnSeries = () => {\n  registerRectMark();\n  registerTextMark();\n  registerRangeColumnAnimation();\n  registerFadeInOutAnimation();\n  registerCartesianBandAxis();\n  registerCartesianLinearAxis();\n  Factory.registerSeries(RangeColumnSeries.type, RangeColumnSeries);\n};\n"]}