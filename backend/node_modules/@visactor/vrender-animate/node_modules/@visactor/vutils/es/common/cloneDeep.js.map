{"version":3,"sources":["../src/common/cloneDeep.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,WAAW,CAAC;AAChC,OAAO,SAAS,MAAM,aAAa,CAAC;AACpC,OAAO,MAAM,MAAM,UAAU,CAAC;AAC9B,OAAO,QAAQ,MAAM,YAAY,CAAC;AAClC,OAAO,QAAQ,MAAM,YAAY,CAAC;AAClC,OAAO,OAAO,MAAM,WAAW,CAAC;AAEhC,MAAM,CAAC,OAAO,UAAU,SAAS,CAAC,KAAU,EAAE,UAAoC,EAAE,WAAsB;IACxG,IAAI,MAAM,CAAC;IACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;QACrF,OAAO,KAAK,CAAC;KACd;IAED,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7B,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IAE5B,IAAI,KAAK,EAAE;QACT,MAAM,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;KAC5B;SAEI,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAClC,MAAM,GAAG,EAAE,CAAC;KACb;SAEI,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;QAC/D,MAAM,GAAG,KAAK,CAAC;KAChB;SAAM,IAAI,MAAM,CAAC,KAAK,CAAC,EAAE;QACxB,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;KAC3B;SAEI;QACH,MAAM,GAAG,SAAS,CAAC;KACpB;IAKD,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IAE7D,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;IACf,IAAI,MAAM,EAAE;QACV,OAAO,EAAE,KAAK,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,MAAM,EAAE;YACxC,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzC,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;YAE5B,IAAI,WAAW,IAAI,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE;gBACvD,MAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;aACxB;iBAAM;gBACL,MAAM,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;aAC5D;SACF;KACF;IACD,OAAO,MAAM,CAAC;AAChB,CAAC","file":"cloneDeep.js","sourcesContent":["import isArray from './isArray';\nimport isBoolean from './isBoolean';\nimport isDate from './isDate';\nimport isNumber from './isNumber';\nimport isString from './isString';\nimport isValid from './isValid';\n\nexport default function cloneDeep(value: any, ignoreWhen?: (value: any) => boolean, excludeKeys?: string[]): any {\n  let result;\n  if (!isValid(value) || typeof value !== 'object' || (ignoreWhen && ignoreWhen(value))) {\n    return value;\n  }\n\n  const isArr = isArray(value);\n  const length = value.length;\n  // 不考虑特殊数组的额外处理\n  if (isArr) {\n    result = new Array(length);\n  }\n  // 不考虑 buffer / arguments 类型的处理以及 prototype 的额外处理\n  else if (typeof value === 'object') {\n    result = {};\n  }\n  // 不建议使用作为 Boolean / Number / String 作为构造器\n  else if (isBoolean(value) || isNumber(value) || isString(value)) {\n    result = value;\n  } else if (isDate(value)) {\n    result = new Date(+value);\n  }\n  // 不考虑 ArrayBuffer / DataView / TypedArray / map / set / regexp / symbol 类型\n  else {\n    result = undefined;\n  }\n\n  // 不考虑 map / set / TypedArray 类型的赋值\n\n  // 不考虑对象的 symbol 属性\n  const props = isArr ? undefined : Object.keys(Object(value));\n\n  let index = -1;\n  if (result) {\n    while (++index < (props || value).length) {\n      const key = props ? props[index] : index;\n      const subValue = value[key];\n\n      if (excludeKeys && excludeKeys.includes(key.toString())) {\n        result[key] = subValue;\n      } else {\n        result[key] = cloneDeep(subValue, ignoreWhen, excludeKeys);\n      }\n    }\n  }\n  return result;\n}\n"]}