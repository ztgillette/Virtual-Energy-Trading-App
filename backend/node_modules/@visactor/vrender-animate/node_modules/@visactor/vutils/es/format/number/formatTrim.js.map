{"version":3,"sources":["../src/format/number/formatTrim.ts"],"names":[],"mappings":"AAOA,MAAM,UAAU,UAAU,CAAC,CAAS;IAClC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;IACnB,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;IACZ,IAAI,EAAE,CAAC;IACP,GAAG,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QAC/B,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;YACZ,KAAK,GAAG;gBACN,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;gBACZ,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,EAAE,KAAK,CAAC,EAAE;oBACZ,EAAE,GAAG,CAAC,CAAC;iBACR;gBACD,EAAE,GAAG,CAAC,CAAC;gBACP,MAAM;YACR;gBACE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBACV,MAAM,GAAG,CAAC;iBACX;gBACD,IAAI,EAAE,GAAG,CAAC,EAAE;oBACV,EAAE,GAAG,CAAC,CAAC;iBACR;gBACD,MAAM;SACT;KACF;IACD,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,CAAC","file":"formatTrim.js","sourcesContent":["/* Adapted from d3-time-format by Mike Bostock\n * https://github.com/d3/d3-format\n * Licensed under the ISC\n\n * License: https://github.com/d3/d3-format/blob/main/LICENSE\n * @license\n */\nexport function formatTrim(s: string) {\n  const n = s.length;\n  let i0 = -1;\n  let i1;\n  out: for (let i = 1; i < n; ++i) {\n    switch (s[i]) {\n      case '.':\n        i0 = i1 = i;\n        break;\n      case '0':\n        if (i0 === 0) {\n          i0 = i;\n        }\n        i1 = i;\n        break;\n      default:\n        if (!+s[i]) {\n          break out;\n        }\n        if (i0 > 0) {\n          i0 = 0;\n        }\n        break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n"]}