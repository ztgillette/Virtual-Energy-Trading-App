{"version":3,"sources":["../src/custom/label-item-animate.ts"],"names":[],"mappings":"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","file":"label-item-animate.js","sourcesContent":["import { AComponentAnimate } from './custom-animate';\nimport { createComponentAnimator } from '../component';\nimport { InputText } from './input-text';\n\n/**\n * LabelItemAppear class handles the appear animation for StoryLabelItem components\n */\nexport class LabelItemAppear extends AComponentAnimate<any> {\n  onBind(): void {\n    super.onBind();\n    const animator = createComponentAnimator(this.target);\n    this._animator = animator;\n    const duration = this.duration;\n    const easing = this.easing;\n    const target = this.target as any;\n\n    const { symbolStartOuterType = 'scale', titleType = 'typewriter', titlePanelType = 'scale' } = this.params;\n\n    const symbolTime = duration / 10;\n    target._symbolStart.setAttributes({ scaleX: 0, scaleY: 0 });\n\n    animator.animate(target._symbolStart, {\n      type: 'to',\n      to: { scaleX: 1, scaleY: 1 },\n      duration: symbolTime * 5,\n      easing\n    });\n\n    let symbolStartOuterFrom: any;\n    let symbolStartOuterTo: any;\n    if (symbolStartOuterType === 'scale') {\n      symbolStartOuterFrom = { scaleX: 0, scaleY: 0 };\n      symbolStartOuterTo = { scaleX: 1, scaleY: 1 };\n    } else {\n      symbolStartOuterFrom = { clipRange: 0 };\n      symbolStartOuterTo = { clipRange: 1 };\n    }\n    target._symbolStartOuter.setAttributes(symbolStartOuterFrom);\n\n    animator.animate(target._symbolStartOuter, {\n      type: 'to',\n      to: symbolStartOuterTo,\n      duration: symbolTime * 5,\n      easing\n    });\n\n    target._symbolEnd.setAttributes({ scaleX: 0, scaleY: 0 });\n\n    animator.animate(target._symbolEnd, {\n      type: 'to',\n      to: { scaleX: 1, scaleY: 1 },\n      duration: symbolTime * 2,\n      delay: symbolTime * 8,\n      easing\n    });\n\n    target._line.setAttributes({ clipRange: 0 });\n\n    animator.animate(target._line, {\n      type: 'to',\n      to: { clipRange: 1 },\n      duration: symbolTime * 9,\n      easing\n    });\n\n    if (titleType === 'typewriter') {\n      const titleTopText = target._titleTop.attribute.text as string;\n      target._titleTop.setAttributes({ text: '' });\n\n      animator.animate(target._titleTop, {\n        type: 'custom',\n        delay: symbolTime * 5,\n        duration: symbolTime * 4,\n        easing: 'linear',\n        to: { text: titleTopText },\n        custom: InputText\n      });\n\n      const titleBottomText = target._titleBottom.attribute.text as string;\n      target._titleBottom.setAttributes({ text: '' });\n\n      animator.animate(target._titleBottom, {\n        type: 'custom',\n        delay: symbolTime * 5,\n        duration: symbolTime * 4,\n        easing: 'linear',\n        to: { text: titleBottomText },\n        custom: InputText\n      });\n    } else {\n      target._titleTop.setAttributes({ dy: target._titleTop.AABBBounds.height() + 10 });\n\n      animator.animate(target._titleTop, {\n        type: 'to',\n        to: {\n          dy: 0\n        },\n        delay: symbolTime * 5,\n        duration: symbolTime * 4,\n        easing: 'linear'\n      });\n\n      target._titleBottom.setAttributes({ dy: -(10 + target._titleBottom.AABBBounds.height()) });\n\n      animator.animate(target._titleBottom, {\n        type: 'to',\n        to: {\n          dy: 0\n        },\n        delay: symbolTime * 5,\n        duration: symbolTime * 4,\n        easing: 'linear'\n      });\n    }\n\n    if (titlePanelType === 'scale') {\n      [target._titleTopPanel, target._titleBottomPanel].forEach(panel => {\n        const scaleX = panel.attribute.scaleX ?? 1;\n        panel.setAttributes({ scaleX: 0 });\n        animator.animate(panel, {\n          type: 'to',\n          to: {\n            scaleX\n          },\n          duration,\n          easing\n        });\n      });\n    } else if (titlePanelType === 'stroke') {\n      [target._titleTopPanel, target._titleBottomPanel].forEach(panel => {\n        const b = panel.AABBBounds;\n        const totalLen = (b.width() + b.height()) * 2;\n        panel.setAttributes({ lineDash: [0, totalLen * 10] });\n        animator.animate(panel, {\n          type: 'to',\n          to: {\n            lineDash: [totalLen, totalLen * 10]\n          },\n          duration,\n          easing\n        });\n      });\n    }\n\n    this.completeBind(animator);\n  }\n}\n\n/**\n * LabelItemDisappear class handles the disappear animation for StoryLabelItem components\n */\nexport class LabelItemDisappear extends AComponentAnimate<any> {\n  onBind(): void {\n    super.onBind();\n    const animator = createComponentAnimator(this.target);\n    this._animator = animator;\n\n    const duration = this.duration;\n    const easing = this.easing;\n    const target = this.target as any;\n\n    const { mode } = this.params;\n\n    if (mode === 'scale') {\n      animator.animate(target._symbolStart, {\n        type: 'to',\n        to: { scaleX: 0, scaleY: 0 },\n        duration,\n        easing\n      });\n    } else {\n      animator.animate(target._line, {\n        type: 'to',\n        to: { clipRange: 0 },\n        duration,\n        easing\n      });\n\n      animator.animate(target._symbolStart, {\n        type: 'to',\n        to: { scaleX: 0, scaleY: 0 },\n        duration: duration / 2,\n        delay: duration / 2,\n        easing\n      });\n\n      animator.animate(target._symbolEnd, {\n        type: 'to',\n        to: { scaleX: 0, scaleY: 0 },\n        duration,\n        easing\n      });\n\n      animator.animate(target._titleTop, {\n        type: 'to',\n        to: { dy: target._titleTop.AABBBounds.height() + 10 },\n        duration: duration / 2,\n        easing\n      });\n\n      animator.animate(target._titleBottom, {\n        type: 'to',\n        to: { dy: -(10 + target._titleBottom.AABBBounds.height()) },\n        duration: duration / 2,\n        easing\n      });\n\n      animator.animate(target._symbolStartOuter, {\n        type: 'to',\n        to: { clipRange: 0 },\n        duration: duration / 2,\n        delay: duration / 2,\n        easing\n      });\n\n      animator.animate(target._titleTopPanel, {\n        type: 'to',\n        to: { scaleX: 0 },\n        duration,\n        easing\n      });\n\n      animator.animate(target._titleBottomPanel, {\n        type: 'to',\n        to: { scaleX: 0 },\n        duration,\n        easing\n      });\n    }\n\n    this.completeBind(animator);\n  }\n}\n"]}