{"version":3,"sources":["../src/common/rect-utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAC;AAGzC,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,SAAgC,EAAE,EAAE;IAC1E,IAAI,CAAC,SAAS,EAAE;QACd,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;KAC5C;IAED,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;IAClF,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC;IACrF,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,CAAC,GAAG,CAAC,CAAC;IAEV,IAAI,KAAK,GAAG,CAAC,EAAE;QACb,CAAC,GAAG,KAAK,CAAC;QACV,KAAK,GAAG,CAAC,KAAK,CAAC;KAChB;SAAM,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;QAC9B,KAAK,GAAG,CAAC,CAAC;KACX;IAED,IAAI,MAAM,GAAG,CAAC,EAAE;QACd,CAAC,GAAG,MAAM,CAAC;QACX,MAAM,GAAG,CAAC,MAAM,CAAC;KAClB;SAAM,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;QAC/B,MAAM,GAAG,CAAC,CAAC;KACZ;IAED,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AACjC,CAAC,CAAC","file":"rect-utils.js","sourcesContent":["import { isNil } from '@visactor/vutils';\nimport type { IRectGraphicAttribute } from '../interface/graphic/rect';\n\nexport const normalizeRectAttributes = (attribute: IRectGraphicAttribute) => {\n  if (!attribute) {\n    return { x: 0, y: 0, width: 0, height: 0 };\n  }\n\n  let width = isNil(attribute.width) ? attribute.x1 - attribute.x : attribute.width;\n  let height = isNil(attribute.height) ? attribute.y1 - attribute.y : attribute.height;\n  let x = 0;\n  let y = 0;\n\n  if (width < 0) {\n    x = width;\n    width = -width;\n  } else if (Number.isNaN(width)) {\n    width = 0;\n  }\n\n  if (height < 0) {\n    y = height;\n    height = -height;\n  } else if (Number.isNaN(height)) {\n    height = 0;\n  }\n\n  return { x, y, width, height };\n};\n"]}