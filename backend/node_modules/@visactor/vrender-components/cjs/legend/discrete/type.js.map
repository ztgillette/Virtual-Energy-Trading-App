{"version":3,"sources":["../src/legend/discrete/type.ts"],"names":[],"mappings":"","file":"type.js","sourcesContent":["import type {\n  EasingType,\n  IGroupGraphicAttribute,\n  ILinearGradient,\n  ISymbolGraphicAttribute,\n  ITextGraphicAttribute\n} from '@visactor/vrender-core';\nimport type { BaseGraphicAttributes, Padding } from '../../core/type';\nimport type { PagerAttributes } from '../../pager/type';\nimport type { LegendBaseAttributes } from '../type';\nimport type { ScrollBarAttributes } from '../../scrollbar/type';\nimport type { GraphicEventType } from '@visactor/vrender-core';\n\nexport interface LegendSwitchComponentAttributes {\n  /**\n   * 翻页组件同图例内容项之间的间距\n   */\n  space?: number;\n  /**\n   * the default page\n   */\n  defaultCurrent?: number;\n  /**\n   * 翻页是否开启动画\n   */\n  animation?: boolean;\n  /**\n   * 动画执行时间\n   */\n  animationDuration?: number;\n  /**\n   * 动画执行效果\n   */\n  animationEasing?: EasingType;\n}\n\n/**\n * 离散类型的图例组件，当图例项较多的时候，默认使用分页器组件\n */\nexport type LegendPagerAttributes = Omit<PagerAttributes, 'total'> &\n  LegendSwitchComponentAttributes & {\n    /**\n     * 分页器的显示位置，默认 'middle'\n     * @default 'middle'\n     */\n    position?: 'start' | 'middle' | 'end';\n  };\n\n/**\n * 离散类型的图例组件使用滚动条组件的时候对应的配置\n */\nexport type LegendScrollbarAttributes = Omit<ScrollBarAttributes, 'range' | 'limitRange'> &\n  LegendSwitchComponentAttributes & {\n    /**\n     * 将翻页器的类型设置为 'scrollbar'\n     * 申明图例组件使用滚动条进行翻页展示更多的图例项\n     */\n    type: 'scrollbar';\n    /**\n     * @deprecated since 0.20.13\n     * 滚动条的位置是否支持展示在分页的中间。\n     * 0.20.13 版本改造了滚动条逻辑后，此配置废弃。改造内容：\n     *   由分页拟合的滚动调整为滚动窗口的逻辑，不再与分页绑定\n     */\n    scrollByPosition?: boolean;\n    /**\n     * 是否支持鼠标/触控板滚动\n     * @default false\n     */\n    roamScroll?: boolean;\n    /**\n     * @since 0.20.13\n     * 是否隐藏滚动条\n     */\n    visible?: boolean;\n    /**\n     * @since 0.20.13\n     * 滚动时，图例区域未到尽头时的前后遮罩\n     */\n    scrollMask?: {\n      /** 是否显示 @default false */\n      visible?: boolean;\n      /** 渐变区域长度 @default 16 */\n      gradientLength?: number;\n      /** 渐变配置 */\n      gradientStops: ILinearGradient['stops'];\n    };\n  };\n\nexport type LegendItemDatum = {\n  /**\n   * 该条数据的唯一标识，可用于动画或者查找\n   */\n  id?: string;\n  /** 显示文本 */\n  label: string;\n  /** 显示数据 */\n  value?: string | number;\n  /** 图例项前的 shape 形状定义 */\n  shape: {\n    symbolType?: string;\n    fill?: string;\n    stroke?: string;\n  };\n  [key: string]: any;\n};\n\nexport type StyleCallback<T> = (\n  item: LegendItemDatum,\n  isSelected: boolean,\n  index: number,\n  allItems: LegendItemDatum[]\n) => T;\n\nexport type formatterCallback = (text: string | number, item: LegendItemDatum, index: number) => any;\n\nexport type LegendItem = {\n  /**\n   * 是否展示图例项\n   * @default true\n   */\n  visible?: boolean;\n  /**\n   * 图例项的列间距 水平间距\n   */\n  spaceCol?: number;\n  /**\n   * 图例项的行间距 垂直间距\n   */\n  spaceRow?: number;\n  /**\n   * 图例项的最大宽度，默认为 null，由上层传入\n   */\n  maxWidth?: number;\n  /**\n   * 图例项的宽度, 默认自动计算\n   */\n  width?: number;\n  /**\n   * 图例的高度，默认自动计算\n   */\n  height?: number;\n  /**\n   * 图例项自身的内边距\n   */\n  padding?: Padding;\n  /**\n   * 图例项背景配置\n   */\n  background?: {\n    visible?: boolean;\n  } & BaseGraphicAttributes<Partial<IGroupGraphicAttribute> | StyleCallback<Partial<IGroupGraphicAttribute>>>;\n  /**\n   * 图例项的 shape 图标的配置\n   */\n  shape?: {\n    visible?: boolean;\n    /** shape 同后面 label 的间距 */\n    space?: number;\n  } & BaseGraphicAttributes<Partial<ISymbolGraphicAttribute> | StyleCallback<Partial<ISymbolGraphicAttribute>>>;\n\n  /**\n   * 当label+ value同时存在的时候，自动省略的策略\n   * 'labelFirst' - 尽量保证完整展示`label`\n   * 'valueFirst' - 尽量保证完整展示`value`\n   * 'none' - 按照`widthRatio`展示label 和 value\n   */\n  autoEllipsisStrategy?: 'labelFirst' | 'valueFirst' | 'none';\n\n  /**\n   * 图例项的 label 文本配置\n   */\n  label?: {\n    /**\n     * 当 label + value 同时展示，切超长的时候，label的宽度占比\n     */\n    widthRatio?: number;\n    /**\n     * 图例项 label 同后面 value 的间距\n     */\n    space?: number;\n    /**\n     * 格式化文本函数\n     */\n    formatMethod?: formatterCallback;\n  } & BaseGraphicAttributes<Partial<ITextGraphicAttribute> | StyleCallback<Partial<ITextGraphicAttribute>>>;\n  /**\n   * 图例项 value 配置\n   */\n  value?: {\n    /**\n     * 当 label + value 同时展示，切超长的时候，label的宽度占比\n     */\n    widthRatio?: number;\n    /** value 同后面元素的间距 */\n    space?: number;\n    /**\n     * 是否右对齐显示，仅当设置图例项宽度 itemWidth 时生效\n     * 默认为 false，\n     */\n    alignRight?: boolean;\n    /**\n     * 格式化文本函数\n     */\n    formatMethod?: formatterCallback;\n  } & BaseGraphicAttributes<Partial<ITextGraphicAttribute> | StyleCallback<Partial<ITextGraphicAttribute>>>;\n  /**\n   * 是否开启聚焦功能，默认关闭\n   */\n  focus?: boolean;\n  /**\n   * 聚焦按钮配置\n   */\n  focusIconStyle?: Partial<ISymbolGraphicAttribute>;\n  /**\n   * 指定图例项中图标和文字的摆放位置，可选值为：\n   * 'left' 图标在左侧\n   * 'right' 图标在右侧\n   */\n  align?: 'left' | 'right';\n  /**\n   * 水平方向时，一行中多个图例的垂直对齐方式\n   * @since 0.21.3\n   */\n  verticalAlign?: 'top' | 'middle' | 'bottom';\n};\n\nexport type DiscreteLegendAttrs = {\n  /**\n   * 是否开启选中交互\n   */\n  select?:\n    | boolean\n    | {\n        /**\n         * 触发选中交互的事件类型\n         * @since 0.20.13\n         **/\n        trigger?: GraphicEventType;\n      };\n\n  /**\n   * 是否开启 hover 交互\n   */\n  hover?:\n    | boolean\n    | {\n        /**\n         * 触发hover交互的事件类型\n         * @since 0.20.13\n         **/\n        trigger?: GraphicEventType;\n        /**\n         * 触发取消hover交互的事件类型\n         * @since 0.20.13\n         **/\n        triggerOff?: GraphicEventType;\n      };\n  /**\n   * 图例数据\n   */\n  items: LegendItemDatum[];\n  /**\n   * 默认选中的图例项\n   */\n  defaultSelected?: (string | number)[];\n  /**\n   * 单选/多选模式配置，默认 'multiple'。\n   * - `single` 表示单选\n   * - `multiple` 表示多选\n   * - `focus` 表示聚焦模式 （自 0.19.2版本开始支持）\n   */\n  selectMode?: 'single' | 'multiple' | 'focus';\n  /**\n   * 是否允许图例全部取消，多选模式下生效\n   */\n  allowAllCanceled?: boolean;\n  /**\n   * 图例项的顺序是否要逆序，默认为 false\n   */\n  reversed?: boolean;\n  /**\n   * 图例项相关的配置\n   */\n  item?: LegendItem;\n  /**\n   * 最大宽度，决定 layout : 'horizontal' 是否自动换行\n   */\n  maxWidth?: number;\n  /**\n   * 最大高度，决定是否分页\n   */\n  maxHeight?: number;\n  /**\n   * 最大行数，当且仅当 layout 为 'horizontal' 时生效\n   */\n  maxRow?: number;\n  /**\n   * 最大列数，当且仅当 layout 为 'vertical' 时生效\n   */\n  maxCol?: number;\n  /**\n   * 延迟渲染，按需渲染图例项目\n   */\n  lazyload?: boolean;\n  /**\n   * 是否进行自动分页，默认为 true\n   */\n  autoPage?: boolean;\n  /**\n   * 翻页器配置\n   */\n  pager?: LegendPagerAttributes | LegendScrollbarAttributes;\n} & LegendBaseAttributes;\n"]}