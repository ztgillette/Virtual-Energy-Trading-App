{"version":3,"sources":["../src/animation/animate-component.ts"],"names":[],"mappings":";;;AACA,uCAAiD;AACjD,6CAA4D;AA2B5D,MAAsB,gBAAsD,SAAQ,wBAAoB;IAQtG,eAAe,CAAC,gBAAkC;QAChD,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,KAAK,EAAE;YACtC,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;YACrF,MAAM,YAAY,GAAG,IAAA,iBAAQ,EAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;YAC1D,IAAI,CAAC,gBAAgB,GAAG;gBACtB,KAAK,EAAE,cAAc,KAAK,KAAK,CAAC,CAAC,CAAC,IAAA,cAAK,EAAC,EAAE,EAAE,gBAAgB,EAAE,YAAY,EAAE,cAAc,aAAd,cAAc,cAAd,cAAc,GAAI,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACzG,IAAI,EAAE,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,IAAA,cAAK,EAAC,EAAE,EAAE,gBAAgB,EAAE,YAAY,EAAE,aAAa,aAAb,aAAa,cAAb,aAAa,GAAI,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACtG,MAAM,EACJ,eAAe,KAAK,KAAK;oBACvB,CAAC,CAAC,IAAA,gBAAO,EAAC,eAAe,CAAC;wBACxB,CAAC,CAAC,eAAe;wBACjB,CAAC,CAAC,IAAA,cAAK,EAAC,EAAE,EAAE,gBAAgB,EAAE,YAAY,EAAE,eAAe,aAAf,eAAe,cAAf,eAAe,GAAI,EAAE,CAAC;oBACpE,CAAC,CAAC,KAAK;aACZ,CAAC;SACH;aAAM;YACL,IAAI,CAAC,gBAAgB,GAAG;gBACtB,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,KAAK;gBACX,MAAM,EAAE,KAAK;aACd,CAAC;SACH;IACH,CAAC;CACF;AA9BD,4CA8BC","file":"animate-component.js","sourcesContent":["import type { EasingType } from '@visactor/vrender-core';\nimport { AbstractComponent } from '../core/base';\nimport { isArray, isObject, merge } from '@visactor/vutils';\n\ninterface AnimateComponentAttribute {\n  animation?: boolean | any;\n  animationEnter?: boolean | any;\n  animationExit?: boolean | any;\n  animationUpdate?: boolean | any;\n}\n\n/**\n * 标签的离场动画配置\n */\nexport interface ICommonAnimation {\n  /**\n   * 动画执行的时长\n   */\n  duration?: number;\n  /**\n   * 动画延迟的时长\n   */\n  delay?: number;\n  /**\n   * 动画的缓动函数\n   */\n  easing?: EasingType;\n}\n\nexport abstract class AnimateComponent<T extends AnimateComponentAttribute> extends AbstractComponent<T> {\n  // parsed animation config\n  protected _animationConfig?: {\n    enter: ICommonAnimation | false;\n    exit: ICommonAnimation | false;\n    update: ICommonAnimation | false;\n  };\n\n  _prepareAnimate(defaultAnimation: ICommonAnimation) {\n    if (this.attribute.animation !== false) {\n      const { animation, animationEnter, animationExit, animationUpdate } = this.attribute;\n      const animationCfg = isObject(animation) ? animation : {};\n      this._animationConfig = {\n        enter: animationEnter !== false ? merge({}, defaultAnimation, animationCfg, animationEnter ?? {}) : false,\n        exit: animationExit !== false ? merge({}, defaultAnimation, animationCfg, animationExit ?? {}) : false,\n        update:\n          animationUpdate !== false\n            ? isArray(animationUpdate)\n              ? animationUpdate\n              : merge({}, defaultAnimation, animationCfg, animationUpdate ?? {})\n            : false\n      };\n    } else {\n      this._animationConfig = {\n        enter: false,\n        exit: false,\n        update: false\n      };\n    }\n  }\n}\n"]}