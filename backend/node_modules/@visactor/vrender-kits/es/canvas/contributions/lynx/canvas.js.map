{"version":3,"sources":["../src/canvas/contributions/lynx/canvas.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AAEhE,OAAO,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AAGnC,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,UAAU;IAOxC,YAAY,MAAwB;QAClC,KAAK,CAAC,MAAM,CAAC,CAAC;IAChB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,MAAM,CAAC,KAAa,EAAE,MAAc;QAElC,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;QAE7B,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;QAC5C,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;QAC9C,IAAK,IAAI,CAAC,aAAqB,CAAC,YAAY,EAAE;YAC3C,IAAI,CAAC,aAAqB,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;YACjE,IAAI,CAAC,aAAqB,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;SACrE;QAGD,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,OAAO,CAAC,GAAG,MAAW;QACpB,OAAO;IACT,CAAC;;AAnCM,cAAG,GAAY,MAAM,CAAC;AADlB,UAAU;IADtB,UAAU,EAAE;;GACA,UAAU,CAqCtB;SArCY,UAAU","file":"canvas.js","sourcesContent":["import { injectable, BaseCanvas } from '@visactor/vrender-core';\nimport type { ICanvas, CanvasConfigType, EnvType } from '@visactor/vrender-core';\nimport { LynxContext2d } from './context';\n\n@injectable()\nexport class LynxCanvas extends BaseCanvas implements ICanvas {\n  static env: EnvType = 'lynx';\n\n  /**\n   * 通过canvas生成一个wrap对象，初始化时不会再设置canvas的属性\n   * @param params\n   */\n  constructor(params: CanvasConfigType) {\n    super(params);\n  }\n\n  init() {\n    this._context = new LynxContext2d(this, this._dpr);\n  }\n\n  resize(width: number, height: number): void {\n    // 设置Canvas的w和h\n    this._pixelWidth = width * this._dpr;\n    this._pixelHeight = height * this._dpr;\n    this._displayWidth = width;\n    this._displayHeight = height;\n\n    this._nativeCanvas.width = this._pixelWidth;\n    this._nativeCanvas.height = this._pixelHeight;\n    if ((this._nativeCanvas as any).nativeCanvas) {\n      (this._nativeCanvas as any).nativeCanvas.width = this._pixelWidth;\n      (this._nativeCanvas as any).nativeCanvas.height = this._pixelHeight;\n    }\n\n    // 设置context的dpr\n    const _context = this._context;\n    _context.dpr = this._dpr;\n  }\n\n  release(...params: any): void {\n    return;\n  }\n}\n"]}