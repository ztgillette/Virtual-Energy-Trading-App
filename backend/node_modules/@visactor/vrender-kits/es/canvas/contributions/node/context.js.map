{"version":3,"sources":["../src/canvas/contributions/node/context.ts"],"names":[],"mappings":";;;;;;;;;AACA,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AAEpD,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAGvC,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,gBAAgB;IAGjD,YAAY,MAAe,EAAE,GAAW;QACtC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QACnB,MAAM,OAAO,GAAG,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,EAAE;YACZ,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACnC;QACD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,GAAG,GAAG,GAAG,aAAH,GAAG,cAAH,GAAG,GAAI,CAAC,CAAC;IACtB,CAAC;IAED,OAAO,CAAC,GAAG,MAAW;QACpB,OAAO;IACT,CAAC;;AAjBM,iBAAG,GAAY,MAAM,CAAC;AADlB,aAAa;IADzB,UAAU,EAAE;;GACA,aAAa,CAmBzB;SAnBY,aAAa","file":"context.js","sourcesContent":["// 参考konva\nimport { Matrix } from '@visactor/vutils';\nimport { injectable } from '@visactor/vrender-core';\nimport type { IContext2d, EnvType, ICanvas } from '@visactor/vrender-core';\nimport { BrowserContext2d } from '../browser';\n\n@injectable()\nexport class NodeContext2d extends BrowserContext2d implements IContext2d {\n  static env: EnvType = 'node';\n\n  constructor(canvas: ICanvas, dpr: number) {\n    super(canvas, dpr);\n    const context = canvas.nativeCanvas.getContext('2d');\n    if (!context) {\n      throw new Error('发生错误，获取2d上下文失败');\n    }\n    this.nativeContext = context;\n    this.canvas = canvas;\n    this.matrix = new Matrix(1, 0, 0, 1, 0, 0);\n    this.stack = [];\n    this.dpr = dpr ?? 1;\n  }\n\n  release(...params: any): void {\n    return;\n  }\n}\n"]}