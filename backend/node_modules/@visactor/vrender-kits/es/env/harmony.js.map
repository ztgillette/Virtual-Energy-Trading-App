{"version":3,"sources":["../src/env/harmony.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,eAAe,EAAkB,eAAe,EAAE,MAAM,wBAAwB,CAAC;AACrG,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,EAAE,mBAAmB,EAAE,MAAM,8CAA8C,CAAC;AACnF,OAAO,EAAE,mBAAmB,EAAE,MAAM,yCAAyC,CAAC;AAC9E,OAAO,EAAE,sBAAsB,EAAE,MAAM,sCAAsC,CAAC;AAE9E,MAAM,CAAC,MAAM,gBAAgB,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,EAAE;IAEzD,IAAI,CAAE,gBAAwB,CAAC,cAAc,EAAE;QAC5C,gBAAwB,CAAC,cAAc,GAAG,IAAI,CAAC;QAChD,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;QACzD,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;KACzD;AACH,CAAC,CAAC,CAAC;AAEF,gBAAwB,CAAC,cAAc,GAAG,KAAK,CAAC;AAEjD,MAAM,UAAU,cAAc,CAAC,SAAoB,EAAE,aAAsB,IAAI;IAC7E,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;QAC5B,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC/B,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACjC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACpC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACpC,UAAU,IAAI,cAAc,CAAC,SAAS,CAAC,CAAC;KACzC;AACH,CAAC;AAED,cAAc,CAAC,QAAQ,GAAG,KAAK,CAAC;AAEhC,MAAM,UAAU,cAAc;IAC5B,cAAc,CAAC,SAAS,CAAC,CAAC;AAC5B,CAAC","file":"harmony.js","sourcesContent":["import { container, ContainerModule, type Container, EnvContribution } from '@visactor/vrender-core';\nimport { loadMathPicker } from '../picker/math-module';\nimport { harmonyWindowModule } from '../window/contributions/harmony-contribution';\nimport { harmonyCanvasModule } from '../canvas/contributions/harmony/modules';\nimport { HarmonyEnvContribution } from './contributions/harmony-contribution';\n\nexport const harmonyEnvModule = new ContainerModule(bind => {\n  // harmony\n  if (!(harmonyEnvModule as any).isHarmonyBound) {\n    (harmonyEnvModule as any).isHarmonyBound = true;\n    bind(HarmonyEnvContribution).toSelf().inSingletonScope();\n    bind(EnvContribution).toService(HarmonyEnvContribution);\n  }\n});\n\n(harmonyEnvModule as any).isHarmonyBound = false;\n\nexport function loadHarmonyEnv(container: Container, loadPicker: boolean = true) {\n  if (!loadHarmonyEnv.__loaded) {\n    loadHarmonyEnv.__loaded = true;\n    container.load(harmonyEnvModule);\n    container.load(harmonyCanvasModule);\n    container.load(harmonyWindowModule);\n    loadPicker && loadMathPicker(container);\n  }\n}\n\nloadHarmonyEnv.__loaded = false;\n\nexport function initHarmonyEnv() {\n  loadHarmonyEnv(container);\n}\n"]}