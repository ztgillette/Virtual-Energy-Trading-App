{"version":3,"sources":["../src/picker/contributions/common/glyph-picker-base.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,wBAAwB,CAAC;AAG3D,MAAM,OAAO,eAAe;IAA5B;QACE,SAAI,GAAW,OAAO,CAAC;QACvB,eAAU,GAAW,iBAAiB,CAAC;IA8BzC,CAAC;IA5BC,QAAQ,CAAC,KAAa,EAAE,KAAa,EAAE,MAAoB;QACzD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;YAC1C,OAAO,KAAK,CAAC;SACd;QACD,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,KAAK,WAAW,EAAE;YAC5C,OAAO,IAAI,CAAC;SACb;QAED,MAAM,EAAE,WAAW,EAAE,GAAG,MAAM,aAAN,MAAM,cAAN,MAAM,GAAI,EAAE,CAAC;QACrC,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO,KAAK,CAAC;SACd;QAED,MAAM,aAAa,GAAG,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,aAAa,CAAC;QAC5C,IAAI,aAAa,EAAE;YAEjB,IAAI,MAAM,GAAG,KAAK,CAAC;YACnB,KAAK,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAChC,IAAI,MAAM,EAAE;oBACV,OAAO;iBACR;gBACD,MAAM,IAAI,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC5D,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;YACH,OAAO,MAAM,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF","file":"glyph-picker-base.js","sourcesContent":["import type { IPoint } from '@visactor/vutils';\nimport { GLYPH_NUMBER_TYPE } from '@visactor/vrender-core';\nimport type { IGlyph, IPickParams } from '@visactor/vrender-core';\n\nexport class GlyphPickerBase {\n  type: string = 'glyph';\n  numberType: number = GLYPH_NUMBER_TYPE;\n\n  contains(glyph: IGlyph, point: IPoint, params?: IPickParams): boolean {\n    if (!glyph.AABBBounds.containsPoint(point)) {\n      return false;\n    }\n    if (glyph.attribute.pickMode === 'imprecise') {\n      return true;\n    }\n\n    const { pickContext } = params ?? {};\n    if (!pickContext) {\n      return false;\n    }\n\n    const pickerService = params?.pickerService;\n    if (pickerService) {\n      // 遍历所有的子元素pick\n      let picked = false;\n      glyph.getSubGraphic().forEach(g => {\n        if (picked) {\n          return;\n        }\n        const data = pickerService.pickItem(g, point, null, params);\n        picked = !!(data && data.graphic);\n      });\n      return picked;\n    }\n    return false;\n  }\n}\n"]}