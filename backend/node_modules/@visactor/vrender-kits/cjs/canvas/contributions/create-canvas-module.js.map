{"version":3,"sources":["../src/canvas/contributions/create-canvas-module.ts"],"names":[],"mappings":";;;AAAA,yDAA0F;AAG1F,SAAgB,YAAY,CAAC,iBAAsB,EAAE,kBAAuB;IAC1E,OAAO,IAAI,8BAAe,CAAC,IAAI,CAAC,EAAE;QAChC,IAAI,CAAC,4BAAa,CAAC;aAChB,cAAc,CAAC,GAAG,EAAE;YACnB,OAAO,CAAC,MAAwB,EAAE,EAAE,CAAC,IAAI,iBAAiB,CAAC,MAAM,CAAC,CAAC;QACrE,CAAC,CAAC;aACD,eAAe,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAE1C,IAAI,CAAC,+BAAgB,CAAC;aACnB,cAAc,CAAC,GAAG,EAAE;YACnB,OAAO,CAAC,MAAe,EAAE,GAAW,EAAE,EAAE,CAAC,IAAI,kBAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QAC/E,CAAC,CAAC;aACD,eAAe,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;AACL,CAAC;AAdD,oCAcC","file":"create-canvas-module.js","sourcesContent":["import { ContainerModule, CanvasFactory, Context2dFactory } from '@visactor/vrender-core';\nimport type { CanvasConfigType, ICanvas } from '@visactor/vrender-core';\n\nexport function createModule(CanvasConstructor: any, ContextConstructor: any) {\n  return new ContainerModule(bind => {\n    bind(CanvasFactory)\n      .toDynamicValue(() => {\n        return (params: CanvasConfigType) => new CanvasConstructor(params);\n      })\n      .whenTargetNamed(CanvasConstructor.env);\n\n    bind(Context2dFactory)\n      .toDynamicValue(() => {\n        return (params: ICanvas, dpr: number) => new ContextConstructor(params, dpr);\n      })\n      .whenTargetNamed(ContextConstructor.env);\n  });\n}\n"]}