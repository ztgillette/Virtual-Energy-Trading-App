{"version":3,"sources":["../src/picker/contributions/common/picker-utils.ts"],"names":[],"mappings":";;;AAAA,yDAMgC;AAGzB,MAAM,cAAc,GAAG,CAC5B,OAAmB,EACnB,WAAuB,EACvB,eAA4D,EAC5D,cAA+B,EAC/B,SAAqB,EACrB,EAAE;IACF,MAAM,SAAS,GAAG,eAAe,CAAC,SAAS,IAAI,cAAc,CAAC,SAAS,CAAC;IACxE,MAAM,gBAAgB,GAAG,eAAe,CAAC,gBAAgB,IAAI,cAAc,CAAC,gBAAgB,CAAC;IAC7F,MAAM,eAAe,GAAG,eAAe,CAAC,eAAe,IAAI,cAAc,CAAC,eAAe,CAAC;IAC1F,WAAW,CAAC,SAAS,GAAG,eAAe;QACrC,CAAC,CAAC,SAAS,GAAG,gBAAgB;QAC9B,CAAC,CAAC,IAAA,8BAAe,EAAC,WAAW,EAAE,SAAS,GAAG,gBAAgB,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC;IAChF,OAAO,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC,CAAC;AAdW,QAAA,cAAc,kBAczB","file":"picker-utils.js","sourcesContent":["import {\n  getScaledStroke,\n  type IContext2d,\n  type IGraphicAttribute,\n  type IMarkAttribute,\n  type IThemeAttribute\n} from '@visactor/vrender-core';\nimport type { IPointLike } from '@visactor/vutils';\n\nexport const commonStrokeCb = (\n  context: IContext2d,\n  pickContext: IContext2d,\n  symbolAttribute: Partial<IMarkAttribute & IGraphicAttribute>,\n  themeAttribute: IThemeAttribute,\n  pickPoint: IPointLike\n) => {\n  const lineWidth = symbolAttribute.lineWidth || themeAttribute.lineWidth;\n  const pickStrokeBuffer = symbolAttribute.pickStrokeBuffer || themeAttribute.pickStrokeBuffer;\n  const keepStrokeScale = symbolAttribute.keepStrokeScale || themeAttribute.keepStrokeScale;\n  pickContext.lineWidth = keepStrokeScale\n    ? lineWidth + pickStrokeBuffer\n    : getScaledStroke(pickContext, lineWidth + pickStrokeBuffer, pickContext.dpr);\n  return context.isPointInStroke(pickPoint.x, pickPoint.y);\n};\n"]}