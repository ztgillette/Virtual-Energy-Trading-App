{"version":3,"sources":["../src/common/quantileSorted.ts"],"names":[],"mappings":";;;AAAA,yCAAsC;AAEtC,SAAgB,cAAc,CAC5B,MAAa,EACb,OAAe,EACf,UAA6D,mBAAQ;IAErE,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IACxB,IAAI,CAAC,CAAC,EAAE;QACN,OAAO;KACR;IACD,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QACzB,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;KACtC;IACD,IAAI,OAAO,IAAI,CAAC,EAAE;QAChB,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;KAC9C;IACD,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;IAC5B,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACzB,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;IAC/C,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;IACvD,OAAO,MAAM,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;AAC/C,CAAC;AApBD,wCAoBC","file":"quantileSorted.js","sourcesContent":["import { toNumber } from './toNumber';\n\nexport function quantileSorted(\n  values: any[],\n  percent: number,\n  valueof: (entry: any, index: number, arr: any[]) => number = toNumber\n) {\n  const n = values.length;\n  if (!n) {\n    return;\n  }\n  if (percent <= 0 || n < 2) {\n    return valueof(values[0], 0, values);\n  }\n  if (percent >= 1) {\n    return valueof(values[n - 1], n - 1, values);\n  }\n  const i = (n - 1) * percent;\n  const i0 = Math.floor(i);\n  const value0 = valueof(values[i0], i0, values);\n  const value1 = valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n"]}