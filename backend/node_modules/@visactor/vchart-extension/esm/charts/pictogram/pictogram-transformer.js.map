{"version":3,"sources":["../src/charts/pictogram/pictogram-transformer.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,wBAAwB,EAAE,MAAM,kBAAkB,CAAC;AAE5D,OAAO,EAAE,qBAAqB,EAAE,MAAM,mBAAmB,CAAC;AAG1D,MAAM,OAAO,6BAEX,SAAQ,wBAA2B;IACzB,cAAc,CAAC,IAAY;QACnC,OAAO,IAAI,KAAK,qBAAqB,CAAC;IACxC,CAAC;IAES,qBAAqB,CAAC,IAAyB;QACvD,OAAO,KAAK,CAAC,qBAAqB,CAAC,IAAI,EAAE;YACvC,MAAM;YACN,WAAW;YACX,YAAY;YACZ,KAAK;YACL,WAAW;YACX,kBAAkB;SACnB,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,IAAO;QACnB,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAE1B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAa,EAAE,EAAE;YACpC,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF","file":"pictogram-transformer.js","sourcesContent":["// eslint-disable-next-line no-duplicate-imports\n\nimport type { RegionSpec } from '@visactor/vchart';\nimport { BaseChartSpecTransformer } from '@visactor/vchart';\nimport type { IPictogramChartSpec } from './interface';\nimport { PICTOGRAM_SERIES_TYPE } from './series/constant';\nimport type { IPictogramSeriesSpec } from './series/interface';\n\nexport class PictogramChartSpecTransformer<\n  T extends IPictogramChartSpec = IPictogramChartSpec\n> extends BaseChartSpecTransformer<T> {\n  protected _isValidSeries(type: string) {\n    return type === PICTOGRAM_SERIES_TYPE;\n  }\n\n  protected _getDefaultSeriesSpec(spec: IPictogramChartSpec): IPictogramSeriesSpec {\n    return super._getDefaultSeriesSpec(spec, [\n      'type',\n      'nameField',\n      'valueField',\n      'svg',\n      'pictogram',\n      'defaultFillColor'\n    ]);\n  }\n\n  transformSpec(spec: T): void {\n    super.transformSpec(spec);\n\n    spec.region.forEach((r: RegionSpec) => {\n      r.coordinate = 'geo';\n    });\n\n    super.transformSeriesSpec(spec);\n  }\n}\n"]}