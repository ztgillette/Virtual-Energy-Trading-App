{"version":3,"sources":["../src/charts/pictogram/series/pictogram-transformer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC3C,OAAO,EAAE,YAAY,EAAE,MAAM,cAAc,CAAC;AAE5C,OAAO,EAAE,yBAAyB,EAAoB,MAAM,kBAAkB,CAAC;AAE/E,MAAM,OAAO,8BAAyD,SAAQ,yBAA+B;IACjG,wBAAwB,CAAC,SAAc;;QAC/C,MAAM,IAAI,GAAG,MAAA,KAAK,CAAC,wBAAwB,CAAC,SAAS,CAAC,mCAAI,EAAE,CAAC;QAC7D,MAAM,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;QAC1B,MAAM,QAAQ,GAAG,MAAA,MAAA,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,0CAAE,UAAU,0CAAE,QAAuC,CAAC;QAC5F,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;YAC/B,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAChE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACnB,IAAI,SAAS,CAAC,IAAI,CAAC,EAAE;oBACnB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC9B;YACH,CAAC,CAAC,CAAC;SACJ;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF","file":"pictogram-transformer.js","sourcesContent":["import { isValid } from '@visactor/vutils';\nimport { svgSourceMap } from './svg-source';\nimport type { SVGParserResult } from '@visactor/vdataset';\nimport { BaseSeriesSpecTransformer, type ISeriesSpec } from '@visactor/vchart';\n\nexport class PictogramSeriesSpecTransformer<T extends ISeriesSpec, K> extends BaseSeriesSpecTransformer<T, K> {\n  protected _getDefaultSpecFromChart(chartSpec: any): any {\n    const spec = super._getDefaultSpecFromChart(chartSpec) ?? {};\n    const svg = chartSpec.svg;\n    const elements = svgSourceMap.get(svg)?.latestData?.elements as SVGParserResult['elements'];\n    if (elements && elements.length) {\n      const names = elements.map(e => e.name).filter(n => isValid(n));\n      names.forEach(name => {\n        if (chartSpec[name]) {\n          spec[name] = chartSpec[name];\n        }\n      });\n    }\n    return spec;\n  }\n}\n"]}