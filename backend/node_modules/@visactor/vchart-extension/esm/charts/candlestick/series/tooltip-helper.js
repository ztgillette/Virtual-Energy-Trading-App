import { BaseSeriesTooltipHelper } from "@visactor/vchart";

import { CANDLESTICK_TOOLTIP_KEYS } from "./constant";

export class CandlestickSeriesTooltipHelper extends BaseSeriesTooltipHelper {
    constructor() {
        super(...arguments), this.getContentKey = contentType => datum => {
            switch (contentType) {
              case CANDLESTICK_TOOLTIP_KEYS.OPEN:
                return this.series.getOpenField();

              case CANDLESTICK_TOOLTIP_KEYS.HIGH:
                return this.series.getHighField();

              case CANDLESTICK_TOOLTIP_KEYS.LOW:
                return this.series.getLowField();

              case CANDLESTICK_TOOLTIP_KEYS.CLOSE:
                return this.series.getCloseField();

              case CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD:
                return this.series.getSeriesField();
            }
            return null;
        }, this.getContentValue = contentType => datum => {
            switch (contentType) {
              case CANDLESTICK_TOOLTIP_KEYS.OPEN:
                return datum[this.series.getOpenField()];

              case CANDLESTICK_TOOLTIP_KEYS.HIGH:
                return datum[this.series.getHighField()];

              case CANDLESTICK_TOOLTIP_KEYS.LOW:
                return datum[this.series.getLowField()];

              case CANDLESTICK_TOOLTIP_KEYS.CLOSE:
                return datum[this.series.getCloseField()];

              case CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD:
                return datum[this.series.getSeriesField()];
            }
            return null;
        }, this.shapeColorCallback = datum => this.series.getMarkInName("candlestick").getAttribute("stroke", datum);
    }
    getDefaultContentList(activeType) {
        return [ {
            key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.OPEN),
            value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.OPEN)
        }, {
            key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.HIGH),
            value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.HIGH)
        }, {
            key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.LOW),
            value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.LOW)
        }, {
            key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.CLOSE),
            value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.CLOSE)
        }, {
            key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD),
            value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD)
        } ];
    }
}
//# sourceMappingURL=tooltip-helper.js.map
