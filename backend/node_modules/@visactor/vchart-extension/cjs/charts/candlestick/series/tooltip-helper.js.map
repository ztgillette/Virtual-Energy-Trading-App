{"version":3,"sources":["../src/charts/candlestick/series/tooltip-helper.ts"],"names":[],"mappings":"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","file":"tooltip-helper.js","sourcesContent":["import type { ISeriesTooltipHelper, Datum, ITooltipLinePattern, TooltipActiveType } from '@visactor/vchart';\nimport { BaseSeriesTooltipHelper } from '@visactor/vchart';\nimport { CANDLESTICK_TOOLTIP_KEYS } from './constant';\nimport type { CandlestickSeries } from './candlestick';\n\nexport class CandlestickSeriesTooltipHelper extends BaseSeriesTooltipHelper implements ISeriesTooltipHelper {\n  /** 获取默认的tooltip pattern */\n  protected getDefaultContentList(activeType: TooltipActiveType): ITooltipLinePattern[] {\n    return [\n      {\n        key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.OPEN),\n        value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.OPEN)\n      },\n      {\n        key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.HIGH),\n        value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.HIGH)\n      },\n      {\n        key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.LOW),\n        value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.LOW)\n      },\n      {\n        key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.CLOSE),\n        value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.CLOSE)\n      },\n      {\n        key: this.getContentKey(CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD),\n        value: this.getContentValue(CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD)\n      }\n    ];\n  }\n  getContentKey = (contentType: CANDLESTICK_TOOLTIP_KEYS) => (datum: any) => {\n    switch (contentType) {\n      case CANDLESTICK_TOOLTIP_KEYS.OPEN: {\n        const openField = (this.series as CandlestickSeries).getOpenField();\n        return openField;\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.HIGH: {\n        const highField = (this.series as CandlestickSeries).getHighField();\n        return highField;\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.LOW: {\n        const lowField = (this.series as CandlestickSeries).getLowField();\n        return lowField;\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.CLOSE: {\n        const closeField = (this.series as CandlestickSeries).getCloseField();\n        return closeField;\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD: {\n        const seriesField = (this.series as CandlestickSeries).getSeriesField();\n        return seriesField;\n      }\n    }\n\n    return null;\n  };\n\n  getContentValue = (contentType: CANDLESTICK_TOOLTIP_KEYS) => (datum: any) => {\n    switch (contentType) {\n      case CANDLESTICK_TOOLTIP_KEYS.OPEN: {\n        const openField = (this.series as CandlestickSeries).getOpenField();\n        return datum[openField];\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.HIGH: {\n        const highField = (this.series as CandlestickSeries).getHighField();\n        return datum[highField];\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.LOW: {\n        const lowField = (this.series as CandlestickSeries).getLowField();\n        return datum[lowField];\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.CLOSE: {\n        const closeField = (this.series as CandlestickSeries).getCloseField();\n        return datum[closeField];\n      }\n      case CANDLESTICK_TOOLTIP_KEYS.SERIES_FIELD: {\n        const seriesField = (this.series as CandlestickSeries).getSeriesField();\n        return datum[seriesField];\n      }\n    }\n\n    return null;\n  };\n  shapeColorCallback = (datum: Datum) => {\n    return this.series.getMarkInName('candlestick').getAttribute('stroke' as any, datum) as any;\n  };\n}\n"]}