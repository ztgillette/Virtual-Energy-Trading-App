{"version":3,"sources":["../src/charts/pie-3d/series.ts"],"names":[],"mappings":";;;AAEA,yCAAiD;AACjD,yCAA6C;AAC7C,qCAAoF;AAEpF,6CAA2F;AAC3F,uEAAuE;AACvE,2CAAqD;AAErD,mCAAgC;AAEhC,MAAa,WAA2D,SAAQ,sBAAgB;IAAhG;;QAEE,SAAI,GAAG,uBAAgB,CAAC,KAAK,CAAC;QACpB,iBAAY,WAA8B;QAC1C,iBAAY,WAAwB;QAKrC,2BAAsB,GAAG,oDAAiC,CAAC;IA+BtE,CAAC;IA3BC,eAAe;;QACb,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,MAAA,MAAA,IAAI,CAAC,KAAK,0CAAE,OAAO,mCAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACtD,CAAC;IAED,aAAa;QACX,KAAK,CAAC,aAAa,EAAE,CAAC;QACtB,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,YAAY,CACf,OAAO,EACP;gBACE,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ;aAC1B,EACD,QAAQ,EACR,uBAAc,CAAC,MAAM,CACtB,CAAC;SACH;IACH,CAAC;IAED,kBAAkB,CAAC,QAAmB,EAAE,OAAY,EAAE;QACpD,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QACD,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,uBAAc,CAAC,IAAI,CAAC,CAAC;IACnF,CAAC;;AAvCH,kCAwCC;AAvCiB,gBAAI,GAAW,uBAAgB,CAAC,KAAK,CAAC;AAKtC,gBAAI,GAAG,0BAAe,CAAC;AACvB,wBAAY,GAAG,EAAE,KAAK,EAAL,aAAK,EAAE,CAAC;AACzB,kCAAsB,GAAG,oDAAiC,CAAC;AAkCtE,MAAM,mBAAmB,GAAG,GAAG,EAAE;IACtC,IAAA,kCAAsB,GAAE,CAAC;IACzB,IAAA,0BAAiB,GAAE,CAAC;IACpB,gBAAO,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;AACxD,CAAC,CAAC;AAJW,QAAA,mBAAmB,uBAI9B","file":"series.js","sourcesContent":["// eslint-disable-next-line no-duplicate-imports\nimport type { IPie3dSeriesSpec } from './interface';\nimport { registerArc3dMark } from '../3d/arc-3d';\nimport { pie3dSeriesMark } from './constant';\nimport { MarkType3dEnum, SeriesMark3dNameEnum, SeriesType3dEnum } from '../3d/enum';\nimport type { ITextMark } from '@visactor/vchart';\nimport { AttributeLevel, BasePieSeries, Factory, type IArcSeries } from '@visactor/vchart';\nimport { Pie3dSeriesSpecTransformer } from './series-spec-transformer';\nimport { registerPie3dAnimation } from './animation';\nimport { registerLayout3d } from '../3d/layout';\nimport { pie3d } from './theme';\n\nexport class Pie3dSeries<T extends IPie3dSeriesSpec = IPie3dSeriesSpec> extends BasePieSeries<T> implements IArcSeries {\n  static readonly type: string = SeriesType3dEnum.pie3d;\n  type = SeriesType3dEnum.pie3d;\n  protected _pieMarkName = SeriesMark3dNameEnum.pie3d;\n  protected _pieMarkType = MarkType3dEnum.arc3d;\n\n  static readonly mark = pie3dSeriesMark;\n  static readonly builtInTheme = { pie3d };\n  static readonly transformerConstructor = Pie3dSeriesSpecTransformer as any;\n  readonly transformerConstructor = Pie3dSeriesSpecTransformer as any;\n\n  protected _angle3d: number;\n\n  setAttrFromSpec(): void {\n    super.setAttrFromSpec();\n    this._angle3d = this._spec?.angle3d ?? -Math.PI / 3;\n  }\n\n  initMarkStyle(): void {\n    super.initMarkStyle();\n    const pieMark = this._pieMark;\n    if (pieMark) {\n      this.setMarkStyle(\n        pieMark,\n        {\n          beta: () => this._angle3d\n        },\n        'normal',\n        AttributeLevel.Series\n      );\n    }\n  }\n\n  initLabelMarkStyle(textMark: ITextMark, spec: any = {}): void {\n    if (!textMark) {\n      return;\n    }\n    super.initLabelMarkStyle(textMark);\n    this.setMarkStyle(textMark, { support3d: true }, undefined, AttributeLevel.Mark);\n  }\n}\n\nexport const registerPie3dSeries = () => {\n  registerPie3dAnimation();\n  registerArc3dMark();\n  Factory.registerSeries(Pie3dSeries.type, Pie3dSeries);\n};\n"]}