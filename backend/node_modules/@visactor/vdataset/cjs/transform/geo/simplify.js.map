{"version":3,"sources":["../src/transform/geo/simplify.ts"],"names":[],"mappings":";;;;;;AAAA,wEAA2C;AAE3C,uCAAgD;AAOhD,MAAM,wBAAwB,GAAqB;IACjD,SAAS,EAAE,IAAI;CAChB,CAAC;AAOK,MAAM,QAAQ,GAAc,CAAC,IAAuB,EAAE,OAA0B,EAAqB,EAAE;IAC5G,MAAM,YAAY,GAAG,IAAA,mBAAc,EAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;IACvE,MAAM,EAAE,SAAS,EAAE,GAAG,YAAY,CAAC;IACnC,OAAO,IAAA,0BAAW,EAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AACtC,CAAC,CAAC;AAJW,QAAA,QAAQ,YAInB","file":"simplify.js","sourcesContent":["import geoSimplify from 'simplify-geojson';\nimport type { FeatureCollection } from '@turf/helpers';\nimport { mergeDeepImmer } from '../../utils/js';\nimport type { Transform } from '..';\n\nexport interface ISimplifyOptions {\n  tolerance?: number; // 简化容差,默认0.01\n}\n\nconst DEFAULT_SIMPLIFY_OPTIONS: ISimplifyOptions = {\n  tolerance: 0.01\n};\n/**\n * 简化\n * @param data\n * @param options\n * @returns\n */\nexport const simplify: Transform = (data: FeatureCollection, options?: ISimplifyOptions): FeatureCollection => {\n  const mergeOptions = mergeDeepImmer(DEFAULT_SIMPLIFY_OPTIONS, options);\n  const { tolerance } = mergeOptions;\n  return geoSimplify(data, tolerance);\n};\n"]}